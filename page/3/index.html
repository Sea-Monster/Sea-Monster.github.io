<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="量">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="量">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="量">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/"/>





  <title>量</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">量</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/27/用Docker构建、运行、发布一个SpringBoot应用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sea Monster">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="量">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/27/用Docker构建、运行、发布一个SpringBoot应用/" itemprop="url">用Docker构建、运行、发布一个SpringBoot应用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-27T15:47:46+08:00">
                2018-12-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>开发了一个Spring Boot的应用，传统的方法是打包（导出jar包），然后扔到服务器上，在服务器上配置好JDK等环境变量，然后运行jar包。现在改为用Docker了，希望每个jar包放在一个独立的容器，互不影响，要怎么做呢？<br>我们假设你用的是maven</p>
</blockquote>
<h1 id="Maven中加入Docker插件"><a href="#Maven中加入Docker插件" class="headerlink" title="Maven中加入Docker插件"></a>Maven中加入Docker插件</h1><p>修改工程的pom.xml文件，在如下位置加入依赖<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;project ......&gt;</span><br><span class="line">	&lt;build&gt;</span><br><span class="line">		&lt;plugins&gt;</span><br><span class="line">			&lt;plugin&gt;</span><br><span class="line">		                &lt;groupId&gt;com.spotify&lt;/groupId&gt;</span><br><span class="line">		                &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">		                &lt;version&gt;0.4.11&lt;/version&gt;</span><br><span class="line">		                &lt;configuration&gt;</span><br><span class="line">		                    &lt;imageName&gt;$&#123;imagePath&#125;/$&#123;project.artifactId&#125;&lt;/imageName&gt;</span><br><span class="line">				&lt;!-- 工程中dockerfile的位置--&gt;</span><br><span class="line">		                    &lt;dockerDirectory&gt;src/main/docker&lt;/dockerDirectory&gt;</span><br><span class="line">		                    &lt;resources&gt;</span><br><span class="line">			                    &lt;resource&gt;</span><br><span class="line">			                            &lt;targetPath&gt;/&lt;/targetPath&gt;</span><br><span class="line">			                            &lt;directory&gt;$&#123;project.build.directory&#125;&lt;/directory&gt;</span><br><span class="line">			                            &lt;include&gt;$&#123;project.build.finalName&#125;.jar&lt;/include&gt;</span><br><span class="line">			                    &lt;/resource&gt;</span><br><span class="line">		                    &lt;/resources&gt;</span><br><span class="line">		                &lt;/configuration&gt;</span><br><span class="line">		            &lt;/plugin&gt;</span><br><span class="line">......</span><br><span class="line">	&lt;profiles&gt;</span><br><span class="line">		&lt;profile&gt;</span><br><span class="line">			&lt;id&gt;自定的id&lt;/id&gt;</span><br><span class="line">			&lt;properties&gt;</span><br><span class="line">				&lt;imagePath&gt;自定的docker镜像前缀&lt;/imagePath&gt;</span><br><span class="line">			&lt;/properties&gt;</span><br><span class="line">		&lt;/profile&gt;</span><br><span class="line">	&lt;/profiles&gt;</span><br><span class="line">......</span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="编写Dockerfile"><a href="#编写Dockerfile" class="headerlink" title="编写Dockerfile"></a>编写Dockerfile</h1><p>上边我们定义了docker file的位置：src/main/docker，因此，我们就在工程的该目录下，创建文件：Dockerfile，文件内容如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from docker.io/openjdk:8u181       # 表示我们的docker镜像是基于openjdk:8u181构建的</span><br><span class="line">VOLUME /tmp</span><br><span class="line">ADD helloworld-0.0.1-SNAPSHOT.jar app.jar      #其中“helloworld”对应pom.xml中的artifactId，“0.0.1-SNAPSHOT”对应pom.xml中的version，jar对应pom.xml中的packaging</span><br><span class="line">RUN sh -c &apos;touch /app.jar&apos;</span><br><span class="line">ENV JAVA_OPTS=&quot;&quot;</span><br><span class="line">ENTRYPOINT [ &quot;sh&quot;, &quot;-c&quot;, &quot;java $JAVA_OPTS -Djava.security.egd=file:/dev/./urandom -Duser.timezone=GMT+8 -jar /app.jar&quot; ]      # -Duser.timezone=GMT+8这句是设置docker使用北京、上海的这个时区</span><br></pre></td></tr></table></figure></p>
<h1 id="构建Docker-Image"><a href="#构建Docker-Image" class="headerlink" title="构建Docker Image"></a>构建Docker Image</h1><p>这一步把工程通过maven构建为一个docker镜像<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn package -D maven.test.skip=true -P 【上边自定的profile id】 docker:build -f pom.xml</span><br></pre></td></tr></table></figure></p>
<p>这时，我们通过docker images命令可以看到创建的镜像<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker images</span><br><span class="line">REPOSITORY            TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">tisson/dict                latest              6febabde1fc5        6 hours ago         836 MB</span><br></pre></td></tr></table></figure></p>
<p>tisson/dict 就是之前定义的imageName：${imagePath}/${project.artifactId}</p>
<h1 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h1><p>然后就像运行一般docker容器那样即可<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d tisson/dict:latest</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/04/备份Docker-MySQL镜像的数据/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sea Monster">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="量">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/04/备份Docker-MySQL镜像的数据/" itemprop="url">备份Docker MySQL镜像的数据</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-12-04T20:06:51+08:00">
                2018-12-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>Docker容器关闭（删除）后，数据会消失。为此我们需用到Docker的挂载。那么现在如果我们要再多做一步，每天备份Docker MYSQL镜像的数据呢？</p>
</blockquote>
<h1 id="使用挂载功能"><a href="#使用挂载功能" class="headerlink" title="使用挂载功能"></a>使用挂载功能</h1><p>我们把MySQL Docker容器中用到的目录挂载到宿主机上的目录： -v 主机路径:容器内部路径<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run --name mysql57 -v /mnt/data-disk/mysql1/config:/etc/mysql/conf.d -v /mnt/data-disk/mysql1/datadir:/var/lib/mysql -v /etc/localtime:/etc/localtime:ro -m 2G --memory-swap=2G -e MYSQL_ROOT_PASSWORD=&apos;ROOT用户的密码&apos; -p 3308:3306 -d docker.io/mysql:5.7.23 --character-set-server=utf8mb4 --collation-server=utf8mb4_general_ci</span><br></pre></td></tr></table></figure></p>
<h1 id="备份数据的脚本"><a href="#备份数据的脚本" class="headerlink" title="备份数据的脚本"></a>备份数据的脚本</h1><h2 id="MySQL的备份脚本"><a href="#MySQL的备份脚本" class="headerlink" title="MySQL的备份脚本"></a>MySQL的备份脚本</h2><p>格式如下：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u 用户名 -p密码 数据库名 &gt; 导出的文件名（自行定义，例如test.dump）</span><br><span class="line"># 注意-p和密码之间不要留空格（留了也许可以，但有时会报错）</span><br></pre></td></tr></table></figure></p>
<h2 id="Docker-MySQL镜像的备份脚本"><a href="#Docker-MySQL镜像的备份脚本" class="headerlink" title="Docker MySQL镜像的备份脚本"></a>Docker MySQL镜像的备份脚本</h2><p>脚本如下<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker exec -i $(docker ps -aqf &quot;name=xxxx&quot;) mysqldump -u root -p&apos;root用户密码&apos; --ignore-table=xxx.aaa 数据库名 &gt; 文件名</span><br><span class="line"># 注意不要有-t，因为-t是分配一个伪终端,但是crontab执行的时候实际是不需要的</span><br></pre></td></tr></table></figure></p>
<p>例如，我们刚才创建了一个名为mysql57的MySQL Docker容器，我们设置了它的root密码是ab(c)，我们希望可以备份到一个根据当前日期决定的文件名<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -i $(docker ps -aqf &quot;name=mysql57&quot;) mysqldump -u root -p&apos;ab(c)&apos; dict &gt; /mnt/data-disk/dict-$(date +%Y%m%d).dump</span><br></pre></td></tr></table></figure></p>
<h1 id="使用Linux的定时功能，定时备份数据"><a href="#使用Linux的定时功能，定时备份数据" class="headerlink" title="使用Linux的定时功能，定时备份数据"></a>使用Linux的定时功能，定时备份数据</h1><p>需要用到crontab，如果没安装，需要先安装  </p>
<h2 id="编写脚本文件"><a href="#编写脚本文件" class="headerlink" title="编写脚本文件"></a>编写脚本文件</h2><p>假设我们要执行的脚本文件是/root/dockerfiles/script/data_bak.sh<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 创建文件</span><br><span class="line">$ touch data_bak.sh</span><br><span class="line"># 赋予执行权限</span><br><span class="line">$ chmod 755 data_bak.sh</span><br></pre></td></tr></table></figure></p>
<p>在文件中写入如下语句<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -i $(docker ps -aqf &quot;name=mysql57&quot;) mysqldump -u root -p&apos;ab(c)&apos; dict &gt; /mnt/data-disk/dict-$(date +%Y%m%d).dump</span><br></pre></td></tr></table></figure></p>
<h2 id="编辑定时执行计划"><a href="#编辑定时执行计划" class="headerlink" title="编辑定时执行计划"></a>编辑定时执行计划</h2><p>执行<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ crontab -e</span><br></pre></td></tr></table></figure></p>
<p>然后在文件中添加：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 3 * * * sh /root/dockerfiles/script/data_bak.sh &gt;&gt; /mnt/data-disk/mysql_dumps.log 2&gt;&amp;1</span><br></pre></td></tr></table></figure></p>
<p>前面5个参数分别表示分钟、小时、日、月、年，星号表示任意</p>
<p>就这样，每天凌晨3点，数据会备份到/mnt/data-disk/ 目录下的dict-当前日期.dump</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/29/Docker基本操作/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sea Monster">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="量">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/29/Docker基本操作/" itemprop="url">Docker基本操作</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-29T09:42:40+08:00">
                2018-09-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Docker安装"><a href="#Docker安装" class="headerlink" title="Docker安装"></a>Docker安装</h1><p>貌似应该装Docker CE版，不过这里我直接装Docker，不知道算是CE（社区）版还是EE（企业）版。  </p>
<h2 id="安装前提"><a href="#安装前提" class="headerlink" title="安装前提"></a>安装前提</h2><p>以CentOS为例，内核版本需要3.10以上：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ uname -r</span><br><span class="line">3.10.0-862.el7.x86_64</span><br></pre></td></tr></table></figure></p>
<h2 id="安装指令"><a href="#安装指令" class="headerlink" title="安装指令"></a>安装指令</h2><p>以CentOS为例（新版的Docker分为企业版和社区版了，以下安装方式安装的版本会比较旧）<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install docker</span><br></pre></td></tr></table></figure></p>
<h3 id="安装Docker-CE（社区版）"><a href="#安装Docker-CE（社区版）" class="headerlink" title="安装Docker CE（社区版）"></a>安装Docker CE（社区版）</h3><p>最新版的以CentOS为例，如果安装了旧版本的，可以先卸载<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ yum remove docker \</span><br><span class="line">    docker-common \</span><br><span class="line">    docker-selinux \</span><br><span class="line">    docker-engine</span><br></pre></td></tr></table></figure></p>
<p>安装以下依赖包：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure></p>
<p>添加国内软件源，加快速度<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure></p>
<p>安装Docker CE<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum makecache fast</span><br><span class="line">yum install docker-ce</span><br></pre></td></tr></table></figure></p>
<h1 id="Docker寻找镜像资源"><a href="#Docker寻找镜像资源" class="headerlink" title="Docker寻找镜像资源"></a>Docker寻找镜像资源</h1><p>官方的仓库，直接上去搜，可以看到各个镜像资源的说明，还有资源的各个tag：<br><a href="https://hub.docker.com/search/" target="_blank" rel="noopener">https://hub.docker.com/search/</a></p>
<h1 id="Docker运行"><a href="#Docker运行" class="headerlink" title="Docker运行"></a>Docker运行</h1><h2 id="查看是否安装成功"><a href="#查看是否安装成功" class="headerlink" title="查看是否安装成功"></a>查看是否安装成功</h2><p>其实就是看看版本号<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker version</span><br></pre></td></tr></table></figure></p>
<h2 id="使用国内镜像资源"><a href="#使用国内镜像资源" class="headerlink" title="使用国内镜像资源"></a>使用国内镜像资源</h2><p>针对国内下载慢的问题：<br>修改/etc/docker/ 目录下的daemon.json，加入如下语句（注意，大括号是文件内默认已经有的，不用加）：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;registry-mirrors&quot;: [&quot;https://registry.docker-cn.com&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>修改后需要重启服务端</p>
<h2 id="启动Docker"><a href="#启动Docker" class="headerlink" title="启动Docker"></a>启动Docker</h2><p>要使用Docker，需要启动Docker服务端<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ service docker start</span><br></pre></td></tr></table></figure></p>
<p>CentOS 7.0以上系统也可以这样<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl start docker.service</span><br></pre></td></tr></table></figure></p>
<h2 id="设置Docker为开机启动"><a href="#设置Docker为开机启动" class="headerlink" title="设置Docker为开机启动"></a>设置Docker为开机启动</h2><p>两种方式（第2种为CentOS7.0以上版本）<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ chkconfig docker on</span><br><span class="line"></span><br><span class="line">$ systemctl enable docker.service</span><br></pre></td></tr></table></figure></p>
<h2 id="停止Docker服务端"><a href="#停止Docker服务端" class="headerlink" title="停止Docker服务端"></a>停止Docker服务端</h2><p>停止<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ service docker stop</span><br></pre></td></tr></table></figure></p>
<h2 id="下载镜像"><a href="#下载镜像" class="headerlink" title="下载镜像"></a>下载镜像</h2><p>例如我们要下载mysql 5.7.23<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker pull mysql:5.7.23</span><br></pre></td></tr></table></figure></p>
<p>又例如我们要下载tomcat最新版<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker pull tomcat:latest</span><br></pre></td></tr></table></figure></p>
<h2 id="查看已下载的镜像"><a href="#查看已下载的镜像" class="headerlink" title="查看已下载的镜像"></a>查看已下载的镜像</h2><p>运行docker images，效果如下：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ docker images</span><br><span class="line">REPOSITORY                 TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">docker.io/tomcat           latest              41a54fe1f79d        2 weeks ago         463 MB</span><br><span class="line">docker.io/mysql            5.7.23              563a026a1511        3 weeks ago         372 MB</span><br></pre></td></tr></table></figure></p>
<h2 id="运行镜像"><a href="#运行镜像" class="headerlink" title="运行镜像"></a>运行镜像</h2><p>例如我们要运行tomcat：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run docker.io/tomcat:latest</span><br></pre></td></tr></table></figure></p>
<p>这样就会在前台运行tomcat服务器，然后我们可以按CTRL+C终止。  </p>
<h3 id="后台运行镜像"><a href="#后台运行镜像" class="headerlink" title="后台运行镜像"></a>后台运行镜像</h3><p>我们也可以让tomcat在后台运行<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d docker.io/tomcat:latest</span><br></pre></td></tr></table></figure></p>
<p>会得到一串字符，这个就是容器运行的ID。<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1c5cf21627fbc03d5674a2145b7de206b736b2a4aa006c64dc848762558a1725</span><br></pre></td></tr></table></figure></p>
<h3 id="带参数配置的运行"><a href="#带参数配置的运行" class="headerlink" title="带参数配置的运行"></a>带参数配置的运行</h3><p>例如我们运行mysql，需要给它指定初始密码（root用户密码），需要指定开放出来的端口号（注意容器内的端口号与容器外对应的端口号，我们在容器外部要连mysql，需要访问的是mysql容器外对应的端口号）<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run --name 任意名字例如mysql57 -e MYSQL_ROOT_PASSWORD=设置root用户的密码 -p 主机端口号:容器端口号 -d docker.io/mysql:5.7.23</span><br></pre></td></tr></table></figure></p>
<p>我们知道mysql默认使用的端口号是3306，容器内mysql使用的端口也正是3306，而下边的命令我们设置了主机上的3307端口映射到容器内的3306端口，那么我们要访问mysql就需要从3307端口而不是3306端口了。<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run --name mysql57 -e MYSQL_ROOT_PASSWORD=123456 -p 3307:3306 -d docker.io/mysql:5.7.23 --character-set-server=utf8mb4 --collation-server=utf8mb4_general_ci</span><br></pre></td></tr></table></figure></p>
<h2 id="进入正在运行的容器内部"><a href="#进入正在运行的容器内部" class="headerlink" title="进入正在运行的容器内部"></a>进入正在运行的容器内部</h2><p>docker exec 【options】【容器名（不用写全）】【命令】【命令参数】<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker exec -it 370b0ee1f169 bash</span><br><span class="line">或者</span><br><span class="line">$ docker exec -it e1066fe2db35 /bin/bash</span><br></pre></td></tr></table></figure></p>
<p>进入容器后可以通过输入exit退出容器内</p>
<h2 id="列出正在运行的容器"><a href="#列出正在运行的容器" class="headerlink" title="列出正在运行的容器"></a>列出正在运行的容器</h2><p>docker ps<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker ps</span><br></pre></td></tr></table></figure></p>
<p>返回<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID        IMAGE                            COMMAND                  CREATED             STATUS                      PORTS                                                      NAMES</span><br><span class="line">370b0ee1f169        neo4j                            &quot;/sbin/tini -g -- ...&quot;   19 hours ago        Up 19 hours                 0.0.0.0:7474-&gt;7474/tcp, 7473/tcp, 0.0.0.0:7687-&gt;7687/tcp   jolly_swanson</span><br></pre></td></tr></table></figure></p>
<h3 id="列出所有容器"><a href="#列出所有容器" class="headerlink" title="列出所有容器"></a>列出所有容器</h3><p>包括已经停止的<br><code>$ docker ps -a</code><br>返回<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CONTAINER ID        IMAGE                            COMMAND                  CREATED             STATUS                      PORTS                                                      NAMES</span><br><span class="line">370b0ee1f169        neo4j                            &quot;/sbin/tini -g -- ...&quot;   19 hours ago        Up 19 hours                 0.0.0.0:7474-&gt;7474/tcp, 7473/tcp, 0.0.0.0:7687-&gt;7687/tcp   jolly_swanson</span><br><span class="line">f2da9237003f        docker.io/tomcat:latest          &quot;catalina.sh run&quot;        19 hours ago        Exited (143) 19 hours ago                                                              confident_noyce</span><br></pre></td></tr></table></figure></p>
<h2 id="停止容器运行"><a href="#停止容器运行" class="headerlink" title="停止容器运行"></a>停止容器运行</h2><p>我们想停止正在运行的neo4j容器，它的ID是370b0ee1f169，注意执行命令时ID不用写全<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker stop 370b0ee1f169</span><br></pre></td></tr></table></figure></p>
<h2 id="重新启动已停止运行的容器"><a href="#重新启动已停止运行的容器" class="headerlink" title="重新启动已停止运行的容器"></a>重新启动已停止运行的容器</h2><p>例如我想重新启动之前停止了的tomcat，它的ID是f2da9237003f，注意执行命令的时候，ID不用写全，例如只写f2d也是可以的<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker start f2da9237003f</span><br></pre></td></tr></table></figure></p>
<h2 id="移除容器"><a href="#移除容器" class="headerlink" title="移除容器"></a>移除容器</h2><p>移除容器之前，该容器必须已停止运行<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker rm 容器ID</span><br></pre></td></tr></table></figure></p>
<h2 id="卸载镜像"><a href="#卸载镜像" class="headerlink" title="卸载镜像"></a>卸载镜像</h2><p>移除镜像之前，必须移除所有该镜像的容器<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker rmi 镜像ID</span><br></pre></td></tr></table></figure></p>
<h1 id="【示例】Docker下修改mysql配置文件"><a href="#【示例】Docker下修改mysql配置文件" class="headerlink" title="【示例】Docker下修改mysql配置文件"></a>【示例】Docker下修改mysql配置文件</h1><p>由于需要修改mysql的sql_mode，在命令行修改每次重启都会失效，因为修改docker下mysql的配置文件，假设正在运行的MySQL容器ID为e1066fe2db35。<br>进入容器：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker exec -it e1066fe2db35 /bin/bash</span><br></pre></td></tr></table></figure></p>
<p>配置文件在容器内的这个位置：<code>/etc/mysql/mysql.conf.d/mysqld.cnf</code><br>直接修改只对容器有用，对镜像本身没用。如果我们想在镜像运行时使用我们想用的配置的话：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 3306:3306 -v /soft/mysql/my.cnf:/etc/mysql/mysql.conf.d/mysqld.cnf -v /soft/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql57 mysql:5.7.23</span><br></pre></td></tr></table></figure></p>
<p>可以看到用了-v，我们指定使用主机上的/soft/mysql/my.cnf映射到（替换）容器内的/etc/mysql/mysql.conf.d/mysqld.cnf，用主机上的/soft/mysql/data映射到容器内的/var/lib/mysql（这个是容器内mysql的datadir），这样就可以让容器内的mysql使用容器外（主机）上的数据文件。</p>
<h1 id="Docker-Container的导入导出"><a href="#Docker-Container的导入导出" class="headerlink" title="Docker Container的导入导出"></a>Docker Container的导入导出</h1><p>导出容器，用ID或names(别名，自定义的)皆可，例如：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker export 011b39e7f806 &gt; ~/Downloads/mysql.tar</span><br></pre></td></tr></table></figure></p>
<p>在导出后，你可以把文件利用scp或是ftp等各种方式分发，然后这样导入：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker import - /Users/SeaMonster/Downloads/mysql.tar</span><br></pre></td></tr></table></figure></p>
<h1 id="Docker-镜像的保存-加载"><a href="#Docker-镜像的保存-加载" class="headerlink" title="Docker 镜像的保存/加载"></a>Docker 镜像的保存/加载</h1><p>保存/加载与导出导入有一些类似</p>
<ul>
<li>export/import与 save/load区别<ul>
<li>export/import 是根据容器来导出镜像（因此没有镜像的历史记录）而 save/load 操作的对象是镜像</li>
<li>export/import 镜像的历史记录再导后无法进行回滚操作，而save/load镜像有完整的历史记录可以回滚</li>
</ul>
</li>
</ul>
<p>保存镜像：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker save mysql:5.7.23 &gt; mysql.tar</span><br></pre></td></tr></table></figure></p>
<p>加载本地镜像<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker load -i mysql.tar</span><br></pre></td></tr></table></figure></p>
<h1 id="Docker-制作镜像"><a href="#Docker-制作镜像" class="headerlink" title="Docker 制作镜像"></a>Docker 制作镜像</h1><h2 id="手工生成方式"><a href="#手工生成方式" class="headerlink" title="手工生成方式"></a>手工生成方式</h2><p>【待补充】，参考<a href="https://blog.csdn.net/u013378306/article/details/54021638" target="_blank" rel="noopener">https://blog.csdn.net/u013378306/article/details/54021638</a></p>
<h2 id="Dockerfile方式"><a href="#Dockerfile方式" class="headerlink" title="Dockerfile方式"></a>Dockerfile方式</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/04/以太坊Dapp开发（一）-环境搭建/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sea Monster">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="量">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/04/以太坊Dapp开发（一）-环境搭建/" itemprop="url">以太坊Dapp开发（一）--环境搭建</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-04T22:25:31+08:00">
                2018-09-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>说到环境搭建嘛，所有的开发首先都离不开这一步，熟悉了真不难，不过第一次接触真是觉得它又长又臭无聊又无趣，需要装一大堆听都没听过的东西，毕竟开源的通常都这德行，基本不用指望有人给你提供个“一键安装”的整合包，足以吓走90%的人。不过也无需太担心，某种程度上这是可以用钱解决的问题，如果手头上有点闲钱，可以话个200元去【汇智网】学一个Dapp开发的课程，虽然它的课其实不怎么样，助教水平也不算高不过勉强能帮你解答入门时期的困惑，最关键是帮你搭建了环境，让你可以直接使用。当你看到了环境搭建好的效果后，自己再搭建就会更有信心、更有动力一些</p>
</blockquote>
<h1 id="我们到底要干什么"><a href="#我们到底要干什么" class="headerlink" title="我们到底要干什么"></a>我们到底要干什么</h1><p>回想一下我们之前开发一个最终部署到生产环境的应用是怎么样的。以JAVA WEB为例，本地开发后，把代码打包成jar包，部署到线上的服务器，一般情况下，我们的JAVA WEB服务还要连上一个或多个数据库。然后我们需要把这些JAVA WEB服务还有数据库部署到服务器。而这个（些）服务器，一般是私人的，绝大部分人没有权限获知服务器任何信息，而你部署上去的这个jar包，其他人也不清楚里边的逻辑，对于他们而言，整个服务就是一个黑箱，他们也无需关注内里逻辑，能用就行。至于数据呢，全部自己掌控，想怎么改就怎么改。<br>现在我们需要开发DApp（Dapp分为客户端、服务端。客户端可以直接理解为一个WEB应用，我们这系列文章更关注其服务端，也就是智能合约部分），我们把它跟之前开发JAVA WEB服务一一类比，以便理解：</p>
<ol>
<li>之前我们开发JAVA WEB，用的是Java语言。而我们准备开发的智能合约，用的是Solidity语言</li>
<li>开发Java我们需要开发环境（用来编译啊、执行啊、打包啊）：JDK。而我们准备开发的Solidity，同样也需要开发环境：solc。</li>
<li>开发Java我们会用到IDE，而不是用记事本那么寒酸吧。开发Java我们会用IDEA啦、Eclipse什么的。而开发智能合约，我们使用名为“remix-ide”的IDE。</li>
<li>开发Java Web我们通常会连数据库，有关系型数据库啦、NoSQL啦、五花八门。而智能合约呢，抱歉没这个东西，数据直接存放到智能合约的运行环境中。想象一下Java程序不可以连外部数据库、外部服务器、外部文件，那数据只能存放到JVM中，而智能合约也类似，不过换了个名称：EVM。</li>
<li>Java Web服务我们需要部署到一个Web容器它才能跑，例如Tomcat啦、Jetty啦。如果我们希望这个Java Web服务能被互联网上所有人访问到，方法数不胜数，找个阿里云啊腾讯云什么的、或者随便找个什么机房，总之是提供公网访问的服务器，扔上去就可以了。 至于我们准备开发的智能合约呢，本地部署还真有几种类似“Tomcat”这种东西，我只说其中一个：Ganache。如果我们希望合约被互联网上所有人访问呢，呃，貌似只有一个途径：部署到以太坊的网络（我们说的是以太坊，所以什么EOS的，先忽略）。</li>
</ol>
<p><strong>综上所述、我们大概是要安装一个类似JDK的东西：solc；一个类似IDEA或者Eclipse的东西：remix-ode、一个类似Tomcat的东西：Ganache</strong></p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="安装solc"><a href="#安装solc" class="headerlink" title="安装solc"></a>安装solc</h2><p>安装solc需要使用npm（ Node.js 平台的默认包管理工具），而使用nam就需要先安装node.js。【注：新版的node.js已经集成了npm】安装node.js与npm的过程略去不表，这里只说下一些可能是坑的地方：</p>
<ol>
<li>node.js最低要求7.10.1以上，npm最低要求4.2.0以上，过低的需要升级，否则无法安装solc和remix-ide。</li>
<li>熟知java开发的清楚这个包管理器npm类似maven，需要连网上的中央仓库下载各种依赖包。这个中央仓库是在国外的，速度比较慢。解决办法有A：使用“镜像”源— 国内的阿里提供的，百度一下即可。B：翻墙。其中B比较省事，少了些坑。</li>
</ol>
<p>安装好npm，后，运行以下指令：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g solc</span><br></pre></td></tr></table></figure></p>
<p>实际安装的貌似是solcjs而不是solc。两者到底有什么区别，我在网上就没看到说得清楚的文章，反正在我机子上，按字面理解我是安装solc，但实际应用时，还是必须用solcjs。</p>
<h2 id="安装remix-ide"><a href="#安装remix-ide" class="headerlink" title="安装remix-ide"></a>安装remix-ide</h2><p>有2种版本：在线版和离线版  </p>
<h3 id="在线版"><a href="#在线版" class="headerlink" title="在线版"></a>在线版</h3><p>直接打开<a href="https://remix.ethereum.org/" title="https://remix.ethereum.org" target="_blank" rel="noopener">https://remix.ethereum.org</a> 无需安装，打开链接即可使用。在国内访问会有些慢，可以考虑翻墙。  </p>
<h3 id="离线版"><a href="#离线版" class="headerlink" title="离线版"></a>离线版</h3><p>本机启动、无需连网。</p>
<h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><p>有两种安装方式：<br>方法一：使用npm安装<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install remix-ide -g</span><br></pre></td></tr></table></figure></p>
<p>如果出现错误：Error: EACCES: permission denied, access ‘/usr/local/lib/node_modules’，可以尝试以下方法解决：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo chown -R $(whoami) $(npm config get prefix)/&#123;lib/node_modules,bin,share&#125;</span><br></pre></td></tr></table></figure></p>
<p>方法二：remix-ide的github 上还提供了另一个方法进行安装，通过clone 代码来安装<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https://github.com/ethereum/remix-ide.git</span><br><span class="line">$ cd remix-ide</span><br><span class="line">$ npm install</span><br><span class="line">$ npm run setupremix  # this will clone https://github.com/ethereum/remix for you and link it to remix-ide</span><br><span class="line">$ npm start #这句其实是运行remix-ide了</span><br></pre></td></tr></table></figure></p>
<h4 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h4><p>运行以下语句：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ remix-ide</span><br></pre></td></tr></table></figure></p>
<p>然后浏览器打开<a href="http://localohost:8080即可打开ide。" target="_blank" rel="noopener">http://localohost:8080即可打开ide。</a><br>可以看到它默认端口是8080，如果我们需要换一个端口呢？<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ which remix-ide</span><br><span class="line">/usr/local/bin/remix-ide</span><br><span class="line">$ cd /usr/local/bin/</span><br><span class="line">$ vi remix-ide</span><br></pre></td></tr></table></figure></p>
<p>可以看到一行 <code>server.listen(8080, &#39;127.0.0.1&#39;, function () {})</code>，把那个8080改为任意端口。当然，最好把下边那句console.log的端口也改了，免得打印的信息误导用户。</p>
<h2 id="安装Ganache"><a href="#安装Ganache" class="headerlink" title="安装Ganache"></a>安装Ganache</h2><p>打开<a href="https://truffleframework.com/ganache" target="_blank" rel="noopener">https://truffleframework.com/ganache</a>（需翻墙），下载，安装，运行。它除了让我们可以部署合约外，它自己默认提供了10个钱包账号（钱包账号数目可以调整，例如调为100），每个账号默认有100个以太币。当我们部署合约、修改合约内的数据时，需要消耗这些以太币。</p>
<h2 id="安装Metamask"><a href="#安装Metamask" class="headerlink" title="安装Metamask"></a>安装Metamask</h2><p>一个Chrome/Firefox的插件，安装需翻墙。除了用于开发外，也可用于实际支付。反正必须装。</p>
<p>至此，开发所需环境搭建完毕。注意以上所需环境也可以“变更”，例如我用Ganache-cli，直接用命令行而不是一个Ganache的App，又或者用Mist代替Metamask，本人实在懒得理会这些替代方案了，本人的目标是尽快弄一个Dapp并上线，能跳过的尽量跳过，不想纠缠。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/04/以太坊Dapp开发/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sea Monster">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="量">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/04/以太坊Dapp开发/" itemprop="url">以太坊Dapp开发</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-04T12:02:54+08:00">
                2018-09-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>不包含UI部分开发</p>
</blockquote>
<h1 id="开发环境搭建"><a href="#开发环境搭建" class="headerlink" title="开发环境搭建"></a>开发环境搭建</h1><h1 id="编写Solidity合约"><a href="#编写Solidity合约" class="headerlink" title="编写Solidity合约"></a>编写Solidity合约</h1><h1 id="部署合约到生产-测试环境"><a href="#部署合约到生产-测试环境" class="headerlink" title="部署合约到生产/测试环境"></a>部署合约到生产/测试环境</h1><h1 id="使用Web3j与合约通信"><a href="#使用Web3j与合约通信" class="headerlink" title="使用Web3j与合约通信"></a>使用Web3j与合约通信</h1><h1 id="补充：智能合约的优化"><a href="#补充：智能合约的优化" class="headerlink" title="补充：智能合约的优化"></a>补充：智能合约的优化</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/30/Linux-SSH远程免密码登录/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sea Monster">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="量">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/30/Linux-SSH远程免密码登录/" itemprop="url">Linux SSH远程免密码登录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-30T11:38:31+08:00">
                2018-07-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>远程登录Linux服务器，或者往其上传文件，每次都要输入一大串密码，而且密码还不能复制，相当麻烦，有没办法保存密码不用每次输入呢？</p>
</blockquote>
<h1 id="在本机（Linux-macOS-）上生成密钥"><a href="#在本机（Linux-macOS-）上生成密钥" class="headerlink" title="在本机（Linux/macOS ）上生成密钥"></a>在本机（Linux/macOS ）上生成密钥</h1><p>执行命令：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa</span><br></pre></td></tr></table></figure></p>
<p>然后按提示操作，在位置所有默认设置的情况下，该命令会在<strong>用户的根目录</strong>（例如/root/）生成.ssh文件夹，里边会有如下文件：  </p>
<ul>
<li>authorized_keys:存放远程免密登录的公钥,主要通过这个文件记录多台机器的公钥</li>
<li>id_rsa : 生成的私钥文件</li>
<li>id_rsa.pub ： 生成的公钥文件</li>
<li>know_hosts : 已知的主机公钥清单</li>
</ul>
<h1 id="把公钥添加到要被远程登录的服务器"><a href="#把公钥添加到要被远程登录的服务器" class="headerlink" title="把公钥添加到要被远程登录的服务器"></a>把公钥添加到要被远程登录的服务器</h1><p>如果希望ssh公钥生效需满足至少下面两个条件：  </p>
<ol>
<li>.ssh目录的权限必须至少是700</li>
<li>.ssh/authorized_keys文件权限必须至少是600</li>
</ol>
<p>添加的方式也有如下几种，使用其中一种即可。</p>
<h2 id="通过ssh-copy-id的方式"><a href="#通过ssh-copy-id的方式" class="headerlink" title="通过ssh-copy-id的方式"></a>通过ssh-copy-id的方式</h2><p>将本机的公钥复制到远程机器的authorized_keys文件中，ssh-copy-id也能让你有到远程机器的home, ./ssh , 和 /.ssh/authorized_keys的权利<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-copy-id -i ~/.ssh/id_rsa.pub &lt;remote-host&gt;</span><br></pre></td></tr></table></figure></p>
<p>remote-host就是远程服务器ip，例如132.121.30.70  。<br>这里需要按提示输入该远程服务器的密码。<br><strong>注意</strong></p>
<ul>
<li>客户端与服务端将使用同一个用户名，例如本地使用的是user1用户，那么请确保远程服务端也有user1用户并有足够权限。</li>
<li>要求该远程服务器安装了ssh，否则会报错“-bash: ssh-copy-id: command not found ”。如果该服务器是CentOS我们可以通过“<code>yum -y install openssh-clients</code>”来安装。</li>
</ul>
<h2 id="通过scp将内容写到对方的文件中"><a href="#通过scp将内容写到对方的文件中" class="headerlink" title="通过scp将内容写到对方的文件中"></a>通过scp将内容写到对方的文件中</h2><p>运行如下命令：  （remote_ip就是远程服务器ip，例如132.121.30.70，然后输入远程服务器的密码。）<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ scp ~/.ssh/id_rsa.pub root@&lt;remote_ip&gt;:pub_key #将文件拷贝至远程服务器（root为远程服务器用户名，可使用其他）</span><br><span class="line"># 登录远程服务器，然后：</span><br><span class="line">$ cat ~/pub_key &gt;&gt;~/.ssh/authorized_keys  # 将内容追加到authorized_keys文件中， 需要登录远程服务器来执行这条命令</span><br></pre></td></tr></table></figure></p>
<h2 id="通过Ansible实现批量免密（以后补充）"><a href="#通过Ansible实现批量免密（以后补充）" class="headerlink" title="通过Ansible实现批量免密（以后补充）"></a>通过Ansible实现批量免密（以后补充）</h2><h2 id="手工复制粘贴的方式"><a href="#手工复制粘贴的方式" class="headerlink" title="手工复制粘贴的方式"></a>手工复制粘贴的方式</h2><p>将本地id_rsa.pub文件的内容拷贝至远程服务器的/.ssh/authorized_keys文件中</p>
<h1 id="其他注意事项"><a href="#其他注意事项" class="headerlink" title="其他注意事项"></a>其他注意事项</h1><p>（1）SELinux需关闭：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ getenforce</span><br><span class="line">Disabled</span><br></pre></td></tr></table></figure></p>
<p>（2）/etc/ssh/sshd_config文件的配置：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">StrictModes yes</span><br><span class="line"># 上面这句需要注释掉或改为StrictModes no，否则不能免密</span><br></pre></td></tr></table></figure></p>
<h1 id="常见问题失败原因"><a href="#常见问题失败原因" class="headerlink" title="常见问题失败原因"></a>常见问题失败原因</h1><h2 id="某次无法免密的原因定位及最终解决办法"><a href="#某次无法免密的原因定位及最终解决办法" class="headerlink" title="某次无法免密的原因定位及最终解决办法"></a>某次无法免密的原因定位及最终解决办法</h2><p>我在本机远程登录某台Linux服务器，已按照本文上述办法配置了keys，登录远程服务器时如果用的是远程服务器的root账号，可以免密，使用另一个账号，死活让我输入密码。</p>
<h3 id="问题定位"><a href="#问题定位" class="headerlink" title="问题定位"></a>问题定位</h3><h4 id="使用ssh-vvv"><a href="#使用ssh-vvv" class="headerlink" title="使用ssh -vvv"></a>使用ssh -vvv</h4><p>使用ssh 加上-vvv参数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -vvv tisson@tisson_s1</span><br><span class="line">......</span><br><span class="line">debug1: SSH2_MSG_SERVICE_ACCEPT received</span><br><span class="line">debug2: key: /Users/SeaMonster/.ssh/id_rsa (0x7fb9db700300),</span><br><span class="line">debug2: key: /Users/SeaMonster/.ssh/id_dsa (0x0),</span><br><span class="line">debug2: key: /Users/SeaMonster/.ssh/id_ecdsa (0x0),</span><br><span class="line">debug2: key: /Users/SeaMonster/.ssh/id_ed25519 (0x0),</span><br><span class="line">debug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password</span><br><span class="line">debug3: start over, passed a different list publickey,gssapi-keyex,gssapi-with-mic,password</span><br><span class="line">debug3: preferred publickey,keyboard-interactive,password</span><br><span class="line">debug3: authmethod_lookup publickey</span><br><span class="line">debug3: remaining preferred: keyboard-interactive,password</span><br><span class="line">debug3: authmethod_is_enabled publickey</span><br><span class="line">debug1: Next authentication method: publickey</span><br><span class="line">debug1: Offering RSA public key: /Users/SeaMonster/.ssh/id_rsa</span><br><span class="line">debug3: send_pubkey_test</span><br><span class="line">debug2: we sent a publickey packet, wait for reply</span><br><span class="line">debug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password</span><br><span class="line">debug1: Trying private key: /Users/SeaMonster/.ssh/id_dsa</span><br><span class="line">debug3: no such identity: /Users/SeaMonster/.ssh/id_dsa: No such file or directory</span><br><span class="line">debug1: Trying private key: /Users/SeaMonster/.ssh/id_ecdsa</span><br><span class="line">debug3: no such identity: /Users/SeaMonster/.ssh/id_ecdsa: No such file or directory</span><br><span class="line">debug1: Trying private key: /Users/SeaMonster/.ssh/id_ed25519</span><br><span class="line">debug3: no such identity: /Users/SeaMonster/.ssh/id_ed25519: No such file or directory</span><br><span class="line">debug2: we did not send a packet, disable method</span><br><span class="line">debug3: authmethod_lookup password</span><br><span class="line">debug3: remaining preferred: ,password</span><br><span class="line">debug3: authmethod_is_enabled password</span><br><span class="line">debug1: Next authentication method: password</span><br><span class="line">......</span><br><span class="line">tisson@tisson_s1&apos;s password:</span><br></pre></td></tr></table></figure></p>
<p>如果使用root账号登录则成功免密，打印出来的信息应该是这样：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">$ ssh root@tisson_s1</span><br><span class="line">......</span><br><span class="line">debug1: SSH2_MSG_SERVICE_ACCEPT received</span><br><span class="line">debug2: key: /Users/SeaMonster/.ssh/id_rsa (0x7fde8b6001e0),</span><br><span class="line">debug2: key: /Users/SeaMonster/.ssh/id_dsa (0x0),</span><br><span class="line">debug2: key: /Users/SeaMonster/.ssh/id_ecdsa (0x0),</span><br><span class="line">debug2: key: /Users/SeaMonster/.ssh/id_ed25519 (0x0),</span><br><span class="line">debug1: Authentications that can continue: publickey,gssapi-keyex,gssapi-with-mic,password</span><br><span class="line">debug3: start over, passed a different list publickey,gssapi-keyex,gssapi-with-mic,password</span><br><span class="line">debug3: preferred publickey,keyboard-interactive,password</span><br><span class="line">debug3: authmethod_lookup publickey</span><br><span class="line">debug3: remaining preferred: keyboard-interactive,password</span><br><span class="line">debug3: authmethod_is_enabled publickey</span><br><span class="line">debug1: Next authentication method: publickey</span><br><span class="line">debug1: Offering RSA public key: /Users/SeaMonster/.ssh/id_rsa</span><br><span class="line">debug3: send_pubkey_test</span><br><span class="line">debug2: we sent a publickey packet, wait for reply</span><br><span class="line">debug1: Server accepts key: pkalg ssh-rsa blen 279</span><br><span class="line">debug2: input_userauth_pk_ok: fp SHA256:AsKItChwZM65IafPmkuAYHB26hPOaLRh5Dgx5uTMeJY</span><br><span class="line">debug3: sign_and_send_pubkey: RSA SHA256:AsKItChwZM65IafPmkuAYHB26hPOaLRh5Dgx5uTMeJY</span><br><span class="line">debug1: Authentication succeeded (publickey).</span><br><span class="line">Authenticated to tisson_s1 ([172.16.28.226]:22).</span><br><span class="line">debug1: channel 0: new [client-session]</span><br><span class="line">debug3: ssh_session2_open: channel_new: 0</span><br><span class="line">debug2: channel 0: send open</span><br><span class="line">debug1: Requesting no-more-sessions@openssh.com</span><br><span class="line">debug1: Entering interactive session.</span><br><span class="line">debug2: callback start</span><br><span class="line">debug2: fd 3 setting TCP_NODELAY</span><br><span class="line">debug3: ssh_packet_set_tos: set IP_TOS 0x10</span><br><span class="line">debug2: client_session2_setup: id 0</span><br><span class="line">debug2: channel 0: request pty-req confirm 1</span><br><span class="line">debug1: Sending environment.</span><br><span class="line">debug3: Ignored env TERM_PROGRAM</span><br><span class="line">debug3: Ignored env TERM</span><br><span class="line">debug3: Ignored env SHELL</span><br><span class="line">debug3: Ignored env HOMEBREW_BOTTLE_DOMAIN</span><br><span class="line">debug3: Ignored env TMPDIR</span><br><span class="line">debug3: Ignored env Apple_PubSub_Socket_Render</span><br><span class="line">debug3: Ignored env TERM_PROGRAM_VERSION</span><br><span class="line">debug3: Ignored env TERM_SESSION_ID</span><br><span class="line">debug3: Ignored env USER</span><br><span class="line">debug3: Ignored env COMMAND_MODE</span><br><span class="line">debug3: Ignored env SSH_AUTH_SOCK</span><br><span class="line">debug3: Ignored env __CF_USER_TEXT_ENCODING</span><br><span class="line">debug3: Ignored env PATH</span><br><span class="line">debug3: Ignored env PWD</span><br><span class="line">debug1: Sending env LANG = zh_CN.UTF-8</span><br><span class="line">debug2: channel 0: request env confirm 0</span><br><span class="line">debug3: Ignored env ITERM_PROFILE</span><br><span class="line">debug3: Ignored env XPC_FLAGS</span><br><span class="line">debug3: Ignored env XPC_SERVICE_NAME</span><br><span class="line">debug3: Ignored env SHLVL</span><br><span class="line">debug3: Ignored env HOME</span><br><span class="line">debug3: Ignored env COLORFGBG</span><br><span class="line">debug3: Ignored env ITERM_SESSION_ID</span><br><span class="line">debug3: Ignored env LOGNAME</span><br><span class="line">debug3: Ignored env SECURITYSESSIONID</span><br><span class="line">debug3: Ignored env _</span><br><span class="line">debug3: Ignored env OLDPWD</span><br><span class="line">debug2: channel 0: request shell confirm 1</span><br><span class="line">debug2: callback done</span><br><span class="line">debug2: channel 0: open confirm rwindow 0 rmax 32768</span><br><span class="line">debug2: channel_input_status_confirm: type 99 id 0</span><br><span class="line">debug2: PTY allocation request accepted on channel 0</span><br><span class="line">debug2: channel 0: rcvd adjust 2097152</span><br><span class="line">debug2: channel_input_status_confirm: type 99 id 0</span><br><span class="line">debug2: shell request accepted on channel 0</span><br></pre></td></tr></table></figure></p>
<p>为什么会这样呢？</p>
<h4 id="查看-var-log-secure中的日志"><a href="#查看-var-log-secure中的日志" class="headerlink" title="查看/var/log/secure中的日志"></a>查看/var/log/secure中的日志</h4><p>在当中发现这么一句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Authentication refused: bad ownership or modes for directory home/tisson</span><br></pre></td></tr></table></figure></p>
<p>很明显，该目录的权限配置有问题。sshd为了安全，对属主的目录和文件权限有所要求。如果权限不对，则ssh的免密码登陆不生效。用户目录权限为 755 或者 700，就是不能是77x。<strong>给高了反而失败！</strong><br>。要远程免密登录，几个文件、目录的权限要求如下：</p>
<ul>
<li>/home/当前用户：700权限</li>
<li>~/.ssh：700权限</li>
<li>~/.ssh/authorized_keys：600或644权限<br>重新调整权限后，免密登录成功。</li>
</ul>
<p>参考：<br><a href="http://blog.chinaunix.net/uid-26284395-id-2949145.html" title="使用ssh-keygen和ssh-copy-id三步实现SSH无密码登录" target="_blank" rel="noopener"> 使用ssh-keygen和ssh-copy-id三步实现SSH无密码登录 </a><br><a href="https://www.cnblogs.com/yixue2017/p/7559970.html" title="Linux下实现免密码登录(超详细)" target="_blank" rel="noopener">Linux下实现免密码登录(超详细)</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/19/Window下让JAR包在后台运行的方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sea Monster">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="量">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/19/Window下让JAR包在后台运行的方法/" itemprop="url">Window下让JAR包在后台运行的方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-19T16:03:38+08:00">
                2018-06-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>近日曾通过远程桌面登录一个windows服务器，在上边跑一个Java的jar包。登录的状态下，看上去是正确运行的，但是，切换出去后再切换回远程桌面，竟然发现那个jar包的运行貌似是暂停了，需要按任意按键让它继续跑。</p>
</blockquote>
<p>解决方法如下：</p>
<ol>
<li>新建一个批处理，例如run.bat</li>
<li><p>文件内添加如下内容：（注意“java”可以替换为“javaw”，这样就会没有命令行窗口，System out输出看不到，需要在程序中重定向system.out/err的输出到日志文件）</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">start java -jar xx.jar</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>
</li>
<li><p>双击运行该批处理</p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/09/Windows安装MySQL5-7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sea Monster">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="量">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/09/Windows安装MySQL5-7/" itemprop="url">Windows安装MySQL5.7</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-09T17:18:43+08:00">
                2018-06-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>在一台Windows上安装MySQL5.7，用的是官网提供的压缩包而不是安装文件，过程中踩坑无数，特此记录。</p>
</blockquote>
<h1 id="下载源码"><a href="#下载源码" class="headerlink" title="下载源码"></a>下载源码</h1><p>我是去<a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">官网</a>下载，下载版本为5.7.22，选择的是“Windows (x86, 64-bit), ZIP Archive”这个包。下载后，解压。假设我源码解压后的目录为C:\mysql</p>
<h1 id="添加环境变量"><a href="#添加环境变量" class="headerlink" title="添加环境变量"></a>添加环境变量</h1><p>系统变量中添加名字为“MYSQL_HOME”，值为“C:\mysql”的变量，然后修改“Path”变量，在最后加入“%MYSQL_HOME%\bin”，保存。这样，就能在命令行模式任何目录下执行mysqld等操作。</p>
<h1 id="安装-Net-Framework"><a href="#安装-Net-Framework" class="headerlink" title="安装.Net Framework"></a>安装.Net Framework</h1><p>这就是其中一个大坑。在命令行执行mysqld时报App Crash，错误模块为MSVCR120.dll。网上搜索了一下，好像没什么看上去靠谱的解决方案，都是让你升级操作系统，要不就是直接再下载一个MSVCR120.dll。眼看就要一直卡在这了，突然想起如果不是使用压缩包而是直接用MySQL的window安装包，安装后启动时它提示需要.Net Framework。果然，安装了.Net Framework后（我估计它要的其实是Visual C++的编译器），问题解决。</p>
<h1 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h1><p>这个版本的MySQL竟然连默认的my.ini文件也没提供，真是坑！就不能提供个示例文件吗？还需要自己上网找，参考别人怎么配置！我只好自行新建一个my.ini文件，放到mysql根目录下。文件的示例如下：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line"># mysql服务端默认监听(listen on)的TCP/IP端口</span><br><span class="line">port=3306</span><br><span class="line"># 基准路径，其他路径都相对于这个路径</span><br><span class="line">basedir=&quot;C:/mysql/&quot;   </span><br><span class="line"># mysql数据库文件所在目录</span><br><span class="line">datadir=&quot;C:/mysql/data/&quot;</span><br><span class="line"># 服务端使用的字符集默，utf8mb4比utf8多了对文字中表情的支持</span><br><span class="line">character-set-server=utf8mb4</span><br><span class="line"># 创建新表时将使用的默认存储引擎</span><br><span class="line">default-storage-engine=INNODB</span><br><span class="line"># SQL模式为strict模式</span><br><span class="line">sql-mode=&quot;STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&quot;</span><br><span class="line"># mysql服务器支持的最大并发连接数（用户数），但总会预留其中的一个连接给管理员使用超级权限登录，即使连接数目达到最大限制。如果设置得过小而用户比较多，会经常出现“Too many connections”错误。</span><br><span class="line">max_connections=100</span><br><span class="line"># 锁表操作的超时时间，默认长达1年！所以必须设置，否则锁表操作一执行就无法停止，除非重启数据库，影响巨大，这里设置为半小时</span><br><span class="line">lock_wait_timeout=1800</span><br><span class="line"># MySQL默认只能本地访问，如果需允许远程访问，必须设置（0.0.0.0就是允许全网访问）</span><br><span class="line">bind_address=0.0.0.0</span><br></pre></td></tr></table></figure></p>
<p>注意配置文件是分“块”的：[client]，[mysqld]等，就像上边的配置都放在mysqld这个块下，如果放到client是不行的。<br>参考<a href="https://www.jb51.net/article/88731.htm" target="_blank" rel="noopener">MySQL 5.6 &amp; 5.7最优配置文件模板(my.ini)</a>，<a href="http://yrq205.blog.163.com/blog/static/476721402013226337767/" target="_blank" rel="noopener">MySQL配置文件mysql.ini参数详解</a></p>
<h1 id="初始化数据库"><a href="#初始化数据库" class="headerlink" title="初始化数据库"></a>初始化数据库</h1><p>设置登录的用户名密码，以及把MySQL创建为一个服务，让它可以开机启动。<br>初始化（生成data目录）<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld  --initialize</span><br></pre></td></tr></table></figure></p>
<p>安装（创建为一个服务），install后边就是自行设置的服务名，例如我也可以设为MySQL5.7，注意后边有个大坑：default<strong>s</strong>-file而不是default-file！！！不知道是网上文章一大抄还是某个版本改了，网上很多文章写的都是default-file。<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld -install MySQL --defaults-file=C:/mysql/my.ini</span><br></pre></td></tr></table></figure></p>
<p>初始化数据库data（这一步是否必要，有待验证，我当时好像是做了，但这部未必有必要）<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --initialize-insecure --user=root</span><br></pre></td></tr></table></figure></p>
<p>启动服务，也可以在服务菜单启动<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net start MySQL</span><br></pre></td></tr></table></figure></p>
<p>注意这时我们还没有设置用户名密码，虽然服务启动了，但是无法登录。<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld -u root -p</span><br></pre></td></tr></table></figure></p>
<p>输入任意密码都会报Access Deny<br>我们需要在my.ini的mysqld块下增加一行<code>skip-grant-tables</code>，然后重启MySQL服务，输入以下指令，成功登录<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure></p>
<h1 id="设置root密码"><a href="#设置root密码" class="headerlink" title="设置root密码"></a>设置root密码</h1><p>假设我们要设置登录密码为“password”。这里有个坑，貌似MySQL5.6及以前，mysql.user这个表，放密码的字段就是password，5.7这个password改为了authentication_string。<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; update mysql.user set authentication_string=password(&quot;password&quot;) where user=&quot;root&quot;;</span><br></pre></td></tr></table></figure></p>
<p>然后输入exit回车，退出mysql。把之前在my.ini添加的<code>skip-grant-tables</code>删掉。重启服务，重新登录。<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure></p>
<p>输入密码password，成功登录。然后又遇到一个坑，无论执行什么命令，都会报<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.</span><br></pre></td></tr></table></figure></p>
<p>明明用密码登录了，还要我重新设置！那我就重新设置呗。<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SET PASSWORD = PASSWORD(&apos;password&apos;);</span><br></pre></td></tr></table></figure></p>
<p>注意有些人在设置密码时还会报以下错误，意思是密码太简单了，还好我没遇到<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR 1819 (HY000): Your password does NOT satisfy the CURRENT policy requirements</span><br></pre></td></tr></table></figure></p>
<h1 id="允许远程登录"><a href="#允许远程登录" class="headerlink" title="允许远程登录"></a>允许远程登录</h1><p>我们为MySQL设置了用户root的账号密码，在该服务器上也能成功登录了，但是，现在用其他机器还是无法登录该MySQL服务的。因为mysql.user表的记录有个host字段，规定了从什么机器能用该账号登录，如果是localhost就是只能本机访问，如果是某ip就是指定ip方可访问，如果是%则所有ip均可访问。另外，让所有人使用root登录好像不太安全，那我们干脆创建一个用户给开发人员远程登录吧。<br>我们创建一个bigdataweb的用户，密码为big123!@#web，执行以下全部或某几条命令（抱歉我忘了）<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; set password for &apos;bigdataweb&apos;@&apos;%&apos; = password(&apos;big123!@#web&apos;);</span><br><span class="line">mysql&gt; flush privileges;</span><br></pre></td></tr></table></figure></p>
<p>如果上边的不行，就试试这个吧，我记得这个是行的：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create user bigdataweb identified by &apos;big123!@#web&apos;;</span><br></pre></td></tr></table></figure></p>
<h1 id="分配权限"><a href="#分配权限" class="headerlink" title="分配权限"></a>分配权限</h1><p>创建了的新用户是没有什么权限的，我们要给它分配权限：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; grant all privileges on *.* to &apos;bigdataweb&apos;@&apos;%&apos;identified by &apos;big123!@#web&apos; with grant option;</span><br><span class="line">mysql&gt; flush privileges ;</span><br></pre></td></tr></table></figure></p>
<h1 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h1><p>99%的文章只教安装不提卸载，好吧能安装已是万事大吉了还想研究如何卸载？不过有时还真有这个需要，例如之前的install时我把defaults-file的路径设错了，服务死活启动不了，重新安装它又说服务已存在。网上搜索如何卸载干净，又说执行“sc delete MySQL”的，有说要在注册表删除的，我试过，毫无作用。唯一正解是执行这个（参考：<a href="https://www.jb51.net/article/105755.htm" target="_blank" rel="noopener">Windows下MySQL服务无法停止和删除的解决办法</a><br>）：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld remove MySQL</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/08/Mac远程桌面连接Windows-Server-2012R2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sea Monster">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="量">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/08/Mac远程桌面连接Windows-Server-2012R2/" itemprop="url">Mac远程桌面连接Windows Server 2012R2</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-08T15:46:43+08:00">
                2018-06-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>安装了Windows Server 2012 R2系统，控制面板开启了允许远程桌面，使用win7能顺利用远程桌面连上，但是用Mac的远程桌面却死活连不上，报“远程桌面无法验证您希望连接的计算机的身份”</p>
</blockquote>
<p>解决方案如下：</p>
<ol>
<li>在Windows Server系统，开始->运行，也可以进入命令行，输入gpedit.msc，打开组策略编辑器</li>
<li>选择“本地计算机策略”->“计算机配置”->“管理模板”->“windows组件”->“远程桌面服务”->“远程桌面会话主机”->“安全”，打开“（RDP）连接要求使用指定的安全层”，设为“启用”，另外把安全层下拉框调成“RDP”。英文版：（进入Computer Configuration->Administrative Templates->Windows Components->Remote Desktop Services->Remote Desktop Session Host->Security，打开”Require use of specific security layer for remote desktop (RDP) connection”的设置，将其设置为Enabled，并且在Options中将Security Layer设置为RDP）。</li>
<li>选择“本地计算机策略”->“计算机配置”->“管理模板”->“windows组件”->“远程桌面服务”->“远程桌面连接客户端”，把“在客户端计算机上提示提供凭据”设为启用。英文版：（Computer Configuration -> Administrative Templates -> Windows Components -> Remote Desktop Services -> Remote Desktop Connection Client 中允许”Prompt for credentials on the client computer”）</li>
</ol>
<p>至此，Mac终于能通过远程桌面连上Windows Server 2012了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/06/MySQL中把一个表的内容更新到另一个表/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Sea Monster">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="量">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/06/MySQL中把一个表的内容更新到另一个表/" itemprop="url">MySQL中把一个表的内容更新到另一个表</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-06T15:06:32+08:00">
                2018-06-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>导数据时经常会遇到的情况：例如我想把两个表的内容合并，从表B的字段全部放到主表A</p>
<h1 id="在主表A新增从表B的字段"><a href="#在主表A新增从表B的字段" class="headerlink" title="在主表A新增从表B的字段"></a>在主表A新增从表B的字段</h1><p>这个步骤很简单，直接按照从表B的结构，在主表A Add Column就是。当然我们可以谨慎一些，避免表A被锁:</p>
<ol>
<li>先创建一个临时表TempA，内容包含表A与表B的字段</li>
<li>insert into TempA (字段列表，以逗号隔开) select 字段列表以逗号隔开 from A</li>
<li>drop table A</li>
<li>alter table TempA rename to A</li>
</ol>
<h1 id="根据表B更新表A"><a href="#根据表B更新表A" class="headerlink" title="根据表B更新表A"></a>根据表B更新表A</h1><p>假设A表B表根据ID一一对应，现在要把从表B的column1更新到A表的column2<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update A,B set A.column2=B.column1 where A.ID=B.ID</span><br></pre></td></tr></table></figure></p>
<p>另外，也可以写成子查询的形式<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update A set column2=(select column1 from B where ID=A.ID)</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Sea Monster</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">44</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">34</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sea Monster</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
